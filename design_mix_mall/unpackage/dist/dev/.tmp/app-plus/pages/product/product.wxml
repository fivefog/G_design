<view class="container"><view class="carousel"><swiper indicator-dots circular="true" duration="400"><block wx:for="{{cellData.g_imglist}}" wx:for-item="item" wx:for-index="index" wx:key="index"><swiper-item class="swiper-item"><view class="image-wrapper"><image class="loaded" src="{{item}}" mode="aspectFill"></image></view></swiper-item></block></swiper></view><view class="introduce-section"><text class="title">{{cellData.g_name}}</text><view class="price-box"><text class="price-tip">¥</text><text class="price">{{cellData.g_price}}</text></view><view class="bot-row"><text>销量: 108</text><text>{{"库存: "+cellData.g_stock+cellData.g_unit}}</text></view></view><view class="c-list"><view data-event-opts="{{[['tap',[['toggleSpec',['$event']]]]]}}" class="c-row b-b" bindtap="__e"><text class="tit">购买类型</text><view class="con"><block wx:for="{{specSelected}}" wx:for-item="sItem" wx:for-index="sIndex" wx:key="sIndex"><text class="selected-text">{{''+sItem+''}}</text></block></view><text class="yticon icon-you"></text></view><view class="c-row b-b"><text class="tit">服务</text><view class="bz-list con"><text>7天无理由退换货 ·</text><text>假一赔十 ·</text></view></view></view><view class="eva-section"><view class="e-header"><text class="tit">评价</text><text>(86)</text><text class="tip">好评率 100%</text><text class="yticon icon-you"></text></view><view class="eva-box"><image class="portrait" src="http://img3.imgtn.bdimg.com/it/u=1150341365,1327279810&fm=26&gp=0.jpg" mode="aspectFill"></image><view class="right"><text class="name">Leo yo</text><text class="con">商品收到了，79元两件，质量不错，试了一下有点瘦，但是加个外罩很漂亮，我很喜欢</text><view class="bot"><text class="attr">购买类型：XL 红色</text><text class="time">2019-04-01 19:21</text></view></view></view></view><view class="detail-desc"><view class="d-header"><text>图文详情</text></view><rich-text nodes="{{desc}}"></rich-text></view><view class="page-bottom"><navigator class="p-b-btn" url="/pages/index/index" open-type="switchTab"><text class="yticon icon-xiatubiao--copy"></text><text>首页</text></navigator><navigator class="p-b-btn cart" url="/pages/cart/cart" open-type="switchTab"><text class="yticon icon-gouwuche"></text><text>购物车</text><block wx:if="{{hasLogin&&cartNum&&cartNum>0}}"><rf-badge class="badge" vue-id="1" type="error" size="small" text="{{cartNum}}" bind:__l="__l"></rf-badge></block></navigator><view class="action-btn-group"><button class=" action-btn no-border buy-now-btn" type="primary" data-event-opts="{{[['tap',[['addCart',['buy']]]]]}}" bindtap="__e">立即购买</button><button class=" action-btn no-border add-cart-btn" type="primary" data-event-opts="{{[['tap',[['addCart',['cart']]]]]}}" bindtap="__e">加入购物车</button></view></view><view data-event-opts="{{[['touchmove',[['stopPrevent',['$event']]]],['tap',[['toggleSpec',['$event']]]]]}}" class="{{['popup spec',specClass]}}" catchtouchmove="__e" bindtap="__e"><view class="mask"></view><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]]]}}" class="layer attr-content" catchtap="__e"><view class="a-t"><image src="{{cellData.g_imgurl}}"></image><view class="right"><text class="price">{{"¥"+cellData.g_price}}</text><text class="stock">{{"库存："+cellData.g_stock+cellData.g_unit}}</text><view class="selected">已选：<block wx:for="{{specSelected}}" wx:for-item="sItem" wx:for-index="sIndex" wx:key="sIndex"><text class="selected-text">{{''+sItem+''}}</text></block></view></view></view><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="attr-list"><text>{{item.g0[0]}}</text><view class="item-list"><block wx:for="{{item.g1[0].split(' ')}}" wx:for-item="childItem" wx:for-index="childIndex" wx:key="childIndex"><text data-event-opts="{{[['tap',[['selectSpec',[index,childIndex]]]]]}}" class="{{['tit',(index==selectIndex[index]&&childIndex==selectChildIndex[index])?'selected':'']}}" bindtap="__e">{{''+childItem+''}}</text></block></view></view></block><view class="select-count"><text>购买数量</text><rf-number-box class="step" vue-id="2" min="{{1}}" max="{{cellData.g_stock*1}}" value="{{cartCount}}" data-event-opts="{{[['^eventChange',[['numberChange']]]]}}" bind:eventChange="__e" bind:__l="__l"></rf-number-box></view><button data-event-opts="{{[['tap',[['toggleSpec',['$event']]]]]}}" class="btn" bindtap="__e">完成</button></view></view><share class="vue-ref" vue-id="3" contentHeight="{{580}}" shareList="{{shareList}}" data-ref="share" bind:__l="__l"></share></view>